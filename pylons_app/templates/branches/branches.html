<%inherit file="/base/base.html"/>
<%! from pylons_app.lib import filters %>
<%def name="title()">
    ${_('Branches')}
</%def>
<%def name="breadcrumbs()">
    ${h.link_to(u'Home',h.url('/'))}
    / 
    ${h.link_to(c.repo_name,h.url('summary_home',repo_name=c.repo_name))}
    /
    ${_('branches')}
</%def>
<%def name="page_nav()">
        <form action="log">
            <dl class="search">
                <dt><label>Search: </label></dt>
                <dd><input type="text" name="rev" /></dd>
            </dl>
        </form>

		${self.menu('branches')}    
</%def>
<%def name="main()">

    <h2 class="no-link no-border">${_('Branches')}</h2>

    <table>
		%for cnt,branch in enumerate(c.repo_branches):
		<tr class="parity${cnt%2}">
			<td>${branch._ctx.date()|n,filters.age}</td>
			<td>
				<span class="logtags">
					<span class="branchtag">${h.link_to(branch.branch,h.url('changeset_home',repo_name=c.repo_name,revision=branch._short))}</span>
				</span>			
			</td>
			<td class="nowrap">
			${h.link_to(_('changeset'),h.url('changeset_home',repo_name=c.repo_name,revision=branch._short))}
			|
			${h.link_to(_('files'),h.url('files_home',repo_name=c.repo_name,revision=branch._short))}
			</td>
		</tr>	
		%endfor
    </table>

</%def>    