## -*- coding: utf-8 -*-
%if c.users_log:
<table class="table_disp">
	<tr class="header">
		<td>${_('Username')}</td>
		<td>${_('Repository')}</td>
		<td>${_('Action')}</td>
		<td>${_('Date')}</td>
		<td>${_('From IP')}</td>
	</tr>

	%for cnt,l in enumerate(c.users_log):
	<tr class="parity${cnt%2}">
		<td>${l.user.username}</td>
		<td>${l.repository}</td>
		<td>${l.action}</td>
		<td>${l.action_date}</td>
		<td>${l.user_ip}</td>
	</tr>
	%endfor

</table>
<div>
		<script type="text/javascript">
		  var data_div = 'user_log';
		  YAHOO.util.Event.onDOMReady(function(){
			YAHOO.util.Event.addListener(YAHOO.util.Dom.getElementsByClassName('pager_link'),"click",function(){
					YAHOO.util.Dom.setStyle('shortlog_data','opacity','0.3');});});
		</script>
		<h2>${c.users_log.pager('$link_previous ~2~ $link_next',
		onclick="""YAHOO.util.Connect.asyncRequest('GET','$partial_url',{
		success:function(o){YAHOO.util.Dom.get(data_div).innerHTML=o.responseText;
		YAHOO.util.Event.addListener(YAHOO.util.Dom.getElementsByClassName('pager_link'),"click",function(){
				YAHOO.util.Dom.setStyle(data_div,'opacity','0.3');});		
		YAHOO.util.Dom.setStyle(data_div,'opacity','1');}},null); return false;""")}
		</h2>
</div>
%else: 
	${_('No actions yet')} 
%endif
